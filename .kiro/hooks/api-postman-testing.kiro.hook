{
  "enabled": true,
  "name": "API Postman Testing",
  "description": "Monitors API source code changes and automatically runs Postman collection tests to validate functionality",
  "version": "1",
  "when": {
    "type": "fileEdited",
    "patterns": [
      "backend/app/api/*.py",
      "backend/app/services/*.py",
      "backend/app/models/*.py",
      "backend/app/core/*.py",
      "backend/main.py",
      "backend/requirements.txt"
    ]
  },
  "then": {
    "type": "askAgent",
    "prompt": "API source code has been modified. Please retrieve the contents of the .postman.json file. If the file does not exist or is empty, create a Postman collection for the Iubar API with tests for all document endpoints. If it exists, get the collection ID and run the collection, showing me the results and propose fixes for any errors found."
  }
}
