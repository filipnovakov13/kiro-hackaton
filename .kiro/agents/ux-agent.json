{
  "name": "ux-validator",
  "description": "UX validation agent ensuring Apple-level simplicity and accessibility for Iubar. NOTE: This is a reference document - the main agent should execute these steps directly using its shell tools.",
  "instructions": {
    "overview": "Validate frontend components against UX principles, design system, and run automated tests.",
    "steps": [
      {
        "step": 1,
        "action": "Read the modified component file to analyze its implementation"
      },
      {
        "step": 2,
        "action": "Read frontend/src/design-system/colors.ts and verify component uses design tokens (no hardcoded hex values)"
      },
      {
        "step": 3,
        "action": "Check component against UX principles: progressive disclosure, single primary action, instant feedback, accessibility"
      },
      {
        "step": 4,
        "action": "Run unit tests using executePwsh",
        "command": "npm test",
        "cwd": "frontend",
        "required": true
      },
      {
        "step": 5,
        "action": "Run Playwright E2E tests using executePwsh",
        "command": "npx playwright test tests/ux-validation.spec.ts",
        "cwd": "frontend",
        "required": true,
        "fallback": "npx playwright test --project=chromium tests/ux-validation.spec.ts"
      }
    ]
  },
  "ux_principles": {
    "progressive_disclosure": "Only show what's needed, when it's needed",
    "single_action": "One primary action per screen",
    "instant_feedback": "UI response on inputs <100ms",
    "beautiful_defaults": "Works out of the box without configuration",
    "zero_friction": "If it feels like work, flag it"
  },
  "design_system_rules": {
    "colors_source": "frontend/src/design-system/colors.ts",
    "no_hardcoded_hex": "No inline hex values like #FFFFFF in components",
    "use_tokens": "Use exported class mappings: bgClasses, textClasses, borderClasses, accentClasses, etc."
  },
  "accessibility_checks": {
    "keyboard_nav": "Full keyboard navigation support",
    "focus_indicators": "Visible focus rings using focusRing token",
    "color_contrast": "WCAG 2.1 AA minimum (4.5:1 for text)",
    "screen_reader": "Proper ARIA labels and roles",
    "motion": "Respect prefers-reduced-motion"
  },
  "test_commands": {
    "unit_tests": {
      "command": "npm test",
      "cwd": "frontend"
    },
    "e2e_ux_tests": {
      "command": "npx playwright test tests/ux-validation.spec.ts",
      "cwd": "frontend"
    },
    "e2e_upload_tests": {
      "command": "npx playwright test tests/upload-flow.spec.ts",
      "cwd": "frontend"
    },
    "all_e2e": {
      "command": "npx playwright test",
      "cwd": "frontend"
    }
  },
  "output_format": {
    "sections": [
      "## UX Issues Found",
      "## Design System Compliance",
      "## Test Results (with actual output)",
      "## Verdict: Approved / Minor issues / Needs fixes"
    ]
  }
}
